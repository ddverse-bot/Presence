<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Presence</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Inter:wght@300;400&display=swap" rel="stylesheet">

<style>
:root {
  --blur: 0px;
  --spacing: 0.08em;
  --bg-top: #0b0e11;
  --bg-mid: #0e1419;
  --bg-bottom: #1a120d;
}

* { box-sizing: border-box; }

html, body {
  margin: 0;
  height: 400vh;
  font-family: Inter, system-ui, sans-serif;
  color: #f2f4f7;
  background: linear-gradient(180deg, var(--bg-top), var(--bg-mid), var(--bg-bottom));
  overflow-x: hidden;
}

/* THREE.JS CANVAS */
#orb {
  position: fixed;
  inset: 0;
  z-index: 1;
  pointer-events: none;
}

/* CONTENT */
section {
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 0 12vw;
  position: relative;
  z-index: 2;
}

h1 {
  font-family: "Playfair Display", serif;
  font-size: clamp(3.5rem, 7vw, 6.5rem);
  letter-spacing: var(--spacing);
  filter: blur(var(--blur));
  transition: filter .4s ease, letter-spacing .4s ease;
}

p {
  max-width: 560px;
  font-size: 1.05rem;
  line-height: 1.7;
  opacity: .75;
}

.fade {
  opacity: 0;
  transform: translateY(40px);
  transition: all 1.2s cubic-bezier(.19,1,.22,1);
}

.fade.visible {
  opacity: 1;
  transform: translateY(0);
}

.hint {
  position: fixed;
  bottom: 24px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 11px;
  letter-spacing: .35em;
  opacity: .45;
  z-index: 3;
}
</style>
</head>

<body>

<canvas id="orb"></canvas>
<div class="hint">SCROLL SLOWLY</div>

<section>
  <h1 class="fade">Presence</h1>
</section>

<section>
  <p class="fade">
    This interface responds to behavior.
    <br><br>
    Slowness reveals clarity.
  </p>
</section>

<section>
  <h1 class="fade">Interaction is emotion.</h1>
</section>

<section>
  <h1 class="fade">Good UX feels invisible.</h1>
</section>

<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>

<script>
/* =======================
   TEXT REVEALS
======================= */
gsap.registerPlugin(ScrollTrigger);
document.querySelectorAll(".fade").forEach(el => {
  ScrollTrigger.create({
    trigger: el,
    start: "top 80%",
    onEnter: () => el.classList.add("visible")
  });
});

/* =======================
   THREE.JS ORB
======================= */
const canvas = document.getElementById("orb");
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(60, innerWidth / innerHeight, 0.1, 100);
camera.position.z = 4;

const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
renderer.setSize(innerWidth, innerHeight);
renderer.setPixelRatio(Math.min(devicePixelRatio, 2));

const count = 12000;
const positions = new Float32Array(count * 3);
const base = new Float32Array(count * 3);

const radius = 1.4;

for (let i = 0; i < count; i++) {
  const theta = Math.random() * Math.PI * 2;
  const phi = Math.acos((Math.random() * 2) - 1);
  const r = radius + Math.random() * 0.05;

  const x = r * Math.sin(phi) * Math.cos(theta);
  const y = r * Math.sin(phi) * Math.sin(theta);
  const z = r * Math.cos(phi);

  positions.set([x, y, z], i * 3);
  base.set([x, y, z], i * 3);
}

const geometry = new THREE.BufferGeometry();
geometry.setAttribute("position", new THREE.BufferAttribute(positions, 3));

const material = new THREE.PointsMaterial({
  size: 0.015,
  color: new THREE.Color("#ff9f60"),
  transparent: true,
  opacity: 0.85,
  blending: THREE.AdditiveBlending,
  depthWrite: false
});

const points = new THREE.Points(geometry, material);
scene.add(points);

/* =======================
   SCROLL ENERGY
======================= */
let scrollEnergy = 0;
let lastY = scrollY;
let lastT = performance.now();

function updateEnergy() {
  const now = performance.now();
  const dy = Math.abs(scrollY - lastY);
  const dt = now - lastT || 1;
  scrollEnergy = Math.min(dy / dt, 1);

  lastY = scrollY;
  lastT = now;

  requestAnimationFrame(updateEnergy);
}
updateEnergy();

/* =======================
   ANIMATE
======================= */
let time = 0;
function animate() {
  time += 0.004 + scrollEnergy * 0.02;

  const pos = geometry.attributes.position.array;

  for (let i = 0; i < count; i++) {
    const ix = i * 3;
    const n = Math.sin(time + base[ix] * 2 + base[ix + 1] * 2);
    const f = 1 + n * 0.06 + scrollEnergy * 0.12;

    pos[ix]     = base[ix]     * f;
    pos[ix + 1] = base[ix + 1] * f;
    pos[ix + 2] = base[ix + 2] * f;
  }

  geometry.attributes.position.needsUpdate = true;

  points.rotation.y += 0.0008;
  points.rotation.x += 0.0004;

  renderer.render(scene, camera);
  requestAnimationFrame(animate);
}
animate();

/* =======================
   RESIZE
======================= */
addEventListener("resize", () => {
  camera.aspect = innerWidth / innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth, innerHeight);
});

/* =======================
   MOBILE FALLBACK
======================= */
if (/Mobi|Android/i.test(navigator.userAgent)) {
  document.getElementById("orb").style.display = "none";
}
</script>

</body>
</html>
